<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html; charset=windows-1252" http-equiv="content-type">
    <link rel="shortcut icon" href="http://web.mit.edu/rsridhar/www/favicon.png" />
    <link rel="stylesheet" type="text/css" href="codes.css">
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Open Sans">
    <script src="../jquery.js"></script>
    <script type="text/javascript">
      $(document).ready(function() {
        var index = 0;
        var braille_map = ['', '?', 'A', 'C', '?', '?', 'E', 'D', ',', 'I', 'B', 'F', '?', 'J', 'H', 'G',
                          '?', '?', '?', '?', '?', '?', '?', '?', '?', '?', '?', '?', '.', 'W', '?', '?',
                         '\'', '?', 'K', 'M', '?', '?', 'O', 'N', '?', 'S', 'L', 'P', '!', 'T', 'R', 'Q',
                          '-', '?', 'U', 'X', '?', '?', 'Z', 'Y', '?', '?', 'V', '?', '?', '?', '?', '?'];

        function translate() {
          $("#outputbox").html('<p id="key">' + braille_map[index] + '</p>');
        }

        function toggle_cell(hid) {
          id = hid.slice(-1);
          if ($(hid).css("background-color") == "rgb(0, 0, 0)") {
            $(hid).css("background", "#CFCFCF");
            index &= ((1 << 6) - 1) - (1 << id);
          }
          else {
            $(hid).css("background", "#000000");
            index |= (1 << id);
          }
          translate();
        }

        $(".cell").click( function toggle(event) {
          toggle_cell('#' + event.target.id);
        });
        $("#outputbox").click( function record() {
          $("#ciphertext").html($("#ciphertext").html() + braille_map[index]);
        });
      });
    </script>

    <title>Braille</title>
  </head>
  <body>
    <h1>Braille</h1>
    <div id="toolbox">
      <p>Input: </p>
      <div id="wrapper">
        <div id="inputbox">
          <div class="row">
            <div class="cell" id="cell_0">
            </div>
            <div class="cell" id="cell_1">
            </div>
          </div>
          <div class="row">
            <div class="cell" id="cell_2">
            </div>
            <div class="cell" id="cell_3">
            </div>
          </div>
          <div class="row">
            <div class="cell" id="cell_4">
            </div>
            <div class="cell" id="cell_5">
            </div>
          </div>
        </div>
        <div id="outputbox">
        </div>
      </div>
      <span id="output">Output:</span>
      <div id="ciphertext">
      </div>
    </div>

  </body>
</html>
