<!DOCTYPE html>
<html>
<head>
  <meta content="text/html" http-equiv="content-type">
  <link rel="stylesheet" type="text/css" href="codes.css">
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Open Sans">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script type='application/javascript' src='fastclick.js'></script>
  <script type="text/javascript">
  $(document).ready(function() {
    $(function() {
      FastClick.attach(document.body);
    });

    var current = '';
    var morse_map = {
      "": "",
      ".-": "A",
      "-...": "B",
      "-.-.": "C",
      "-..": "D",
      ".": "E",
      "..-.": "F",
      "--.": "G",
      "....": "H",
      "..": "I",
      ".---": "J",
      "-.-": "K",
      ".-..": "L",
      "--": "M",
      "-.": "N",
      "---": "O",
      ".--.": "P",
      "--.-": "Q",
      ".-.": "R",
      "...": "S",
      "-": "T",
      "..-": "U",
      "...-": "V",
      ".--": "W",
      "-..-": "X",
      "-.--": "Y",
      "--..": "Z",
      "-----": "0",
      ".----": "1",
      "..---": "2",
      "...--": "3",
      "....-": "4",
      ".....": "5",
      "-....": "6",
      "--...": "7",
      "---..": "8",
      "----.": "9",
      ".-.-.-": ".",
      "--..--": ",",
      "---...": ":",
      "..--..": "?",
      ".----.": "'",
      "-....-": "-",
      "-..-.": "/",
      "-.--.-": "(",
      ".-..-.": "\"",
      ".--.-.": "@",
      "-...-": "="
    };

    function translate(id) {
      if (id == 'space_blip') {
        current = '';
      }
      else {
        current += id;
      }
      $("#ditdash").html('<p id="dits">' + current.replace(/\./g, '&bull;') + '</p>');
      output = '?';
      if (current in morse_map) {
        output = morse_map[current];
      }
      $("#outputbox").html('<p id="fk" class="key">' + output + '</p>');
    }

    $(".blip").click( function blip(event) {
      translate(event.target.id);
    });
    $("#outputbox").click( function record() {
      $("#ciphertext").html($("#ciphertext").html() + $("#fk").html());
    });
  });
  </script>

  <title>Morse</title>
</head>
<body>
  <h1>Morse</h1>
  <div id="toolbox">
    <p>Input: </p>
    <div id="wrapper">
      <div id="inputbox">
        <div class="row">
          <div class="blip"><p id="." class="key" style="bottom:60px">&bull;</p>
          </div>
          <div class="blip"><p id="-" class="key" style="bottom:60px">-</p>
          </div>
        </div>
        <div class="row">
          <div class="blip" id='space'><p class="key" id="space_blip" >clear</p>
          </div>
        </div>
      </div>
      <div id="wrapper2">
        <div id="outputbox">
        </div>
        <div id="ditdash">
        </div>
      </div>
    </div>
    <span id="output">Output:</span>
    <div id="ciphertext">
    </div>
  </div>
  <div id="codesheet"><div style="display: inline-block;">
    <table>
      <tr>
        <th>Letter</th>
        <th>Morse</th>
      </tr>
      <tr>
        <td>A</td>
        <td><tt><b>.-</b></tt></td>
      </tr>
      <tr>
        <td>B</td>
        <td><tt><b>-...</b></tt></td>
      </tr>
      <tr>
        <td>C</td>
        <td><tt><b>-.-.</b></tt></td>
      </tr>
      <tr>
        <td>D</td>
        <td><tt><b>-..</b></tt></td>
      </tr>
      <tr>
        <td>E</td>
        <td><tt><b>.</b></tt></td>
      </tr>
      <tr>
        <td>F</td>
        <td><tt><b>..-.</b></tt></td>
      </tr>
      <tr>
        <td>G</td>
        <td><tt><b>--.</b></tt></td>
      </tr>
      <tr>
        <td>H</td>
        <td><tt><b>....</b></tt></td>
      </tr>
      <tr>
        <td>I</td>
        <td><tt><b>..</b></tt></td>
      </tr>
      <tr>
        <td>J</td>
        <td><tt><b>.---</b></tt></td>
      </tr>
      <tr>
        <td>K</td>
        <td><tt><b>-.-</b></tt></td>
      </tr>
      <tr>
        <td>L</td>
        <td><tt><b>.-..</b></tt></td>
      </tr>
      <tr>
        <td>M</td>
        <td><tt><b>--</b></tt></td>
      </tr>
    </table>

    <table>
      <tr>
        <th>Letter</th>
        <th>Morse</th>
      </tr>
      <tr>
        <td>N</td>
        <td><tt><b>-.</b></tt></td>
      </tr>
      <tr>
        <td>O</td>
        <td><tt><b>---</b></tt></td>
      </tr>
      <tr>
        <td>P</td>
        <td><tt><b>.--.</b></tt></td>
      </tr>
      <tr>
        <td>Q</td>
        <td><tt><b>--.-</b></tt></td>
      </tr>
      <tr>
        <td>R</td>
        <td><tt><b>.-.</b></tt></td>
      </tr>
      <tr>
        <td>S</td>
        <td><tt><b>...</b></tt></td>
      </tr>
      <tr>
        <td>T</td>
        <td><tt><b>-</b></tt></td>
      </tr>
      <tr>
        <td>U</td>
        <td><tt><b>..-</b></tt></td>
      </tr>
      <tr>
        <td>V</td>
        <td><tt><b>...-</b></tt></td>
      </tr>
      <tr>
        <td>W</td>
        <td><tt><b>.--</b></tt></td>
      </tr>
      <tr>
        <td>X</td>
        <td><tt><b>-..-</b></tt></td>
      </tr>
      <tr>
        <td>Y</td>
        <td><tt><b>-.--</b></tt></td>
      </tr>
      <tr>
        <td>Z</td>
        <td><tt><b>--..</b></tt></td>
      </tr>
    </table>

    <table>
      <tr>
        <th>Digit</th>
        <th>Morse</th>
      </tr>
      <tr>
        <td>0</td>
        <td><tt><b>-----</b></tt></td>
      </tr>
      <tr>
        <td>1</td>
        <td><tt><b>.----</b></tt></td>
      </tr>
      <tr>
        <td>2</td>
        <td><tt><b>..---</b></tt></td>
      </tr>
      <tr>
        <td>3</td>
        <td><tt><b>...--</b></tt></td>
      </tr>
      <tr>
        <td>4</td>
        <td><tt><b>....-</b></tt></td>
      </tr>
      <tr>
        <td>5</td>
        <td><tt><b>.....</b></tt></td>
      </tr>
      <tr>
        <td>6</td>
        <td><tt><b>-....</b></tt></td>
      </tr>
      <tr>
        <td>7</td>
        <td><tt><b>--...</b></tt></td>
      </tr>
      <tr>
        <td>8</td>
        <td><tt><b>---..</b></tt></td>
      </tr>
      <tr>
        <td>9</td>
        <td><tt><b>----.</b></tt></td>
      </tr>
    </table>

    <table id="punctuation">
      <tr>
        <th>Symbol</th>
        <th>Morse</th>
      </tr>
      <tr>
        <td>.</td>
        <td><tt><b>.-.-.-</b></tt></td>
      </tr>
      <tr>
        <td>,</td>
        <td><tt><b>--..--</b></tt></td>
      </tr>
      <tr>
        <td>:</td>
        <td><tt><b>---...</b></tt></td>
      </tr>
      <tr>
        <td>?</td>
        <td><tt><b>..--..</b></tt></td>
      </tr>
      <tr>
        <td>'</td>
        <td><tt><b>.----.</b></tt></td>
      </tr>
      <tr>
        <td>-</td>
        <td><tt><b>-....-</b></tt></td>
      </tr>
      <tr>
        <td>/</td>
        <td><tt><b>-..-. </b></tt></td>
      </tr>
      <tr>
        <td>()</td>
        <td><tt><b>-.--.-</b></tt></td>
      </tr>
      <tr>
        <td>"</td>
        <td><tt><b>.-..-.</b></tt></td>
      </tr>
      <tr>
        <td>@</td>
        <td><tt><b>.--.-.</b></tt></td>
      </tr>
      <tr>
        <td>=</td>
        <td><tt><b>-...-</b></tt></td>
      </tr>
    </table>
  </div></div>
</body>
</html>
