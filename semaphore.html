<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html; charset=windows-1252" http-equiv="content-type">
    <link rel="shortcut icon" href="http://web.mit.edu/rsridhar/www/favicon.png" />
    <link rel="stylesheet" type="text/css" href="codes.css">
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Open Sans">
    <script src="../jquery.js"></script>
    <script type='application/javascript' src='fastclick.js'></script>
    <script type="text/javascript">
      $(document).ready(function() {
        $(function() {
          FastClick.attach(document.body);
        });

        var index = 0;
        var flag_map = ['', '?', 'A', 'C', '?', '?', 'E', 'D', ',', 'I', 'B', 'F', '?', 'J', 'H', 'G',
                          '?', '?', '?', '?', '?', '?', '?', '?', '?', '?', '?', '?', '.', 'W', '?', '?',
                         '\'', '?', 'K', 'M', '?', '?', 'O', 'N', '?', 'S', 'L', 'P', '!', 'T', 'R', 'Q',
                          '-', '?', 'U', 'X', '?', '?', 'Z', 'Y', '?', '?', 'V', '?', '?', '?', '?', '?'];

        function translate() {
          // $("#outputbox").html('<p class="key">' + braille_map[index] + '</p>');
        }

        function toggle_cell(hid) {
          id = parseInt(hid.slice(-1));
          $('#c' + (id-1)).toggleClass('gircle');
          $('#c' + (id)).toggleClass('pircle');
          // if ($(hid).css("background-color") == "rgb(0, 0, 0)") {
          //   $(hid).css("background", "#CFCFCF");
          //   index &= ((1 << 6) - 1) - (1 << id);
          // }
          // else {
          //   $(hid).css("background", "#000000");
          //   index |= (1 << id);
          // }
          // translate();
        }

        $('.circle').click( function toggle(event) {
          toggle_cell('#' + event.target.id);
        });
        $("#outputbox").click( function record() {
          $("#ciphertext").html($("#ciphertext").html() + braille_map[index]);
        });
      });
    </script>

    <title>Semaphore</title>
  </head>
  <body>
    <h1>Semaphore</h1>
    <div id="toolbox">
      <p>Input: </p>
      <div id="wrapper">
        <div id="inputbox">
          <div class="circle" id="c1">
            <div id="c2"><div id="c3"><div id="c4"><div id="c5"><div id="c6"><div id="c7"><div id="c8"></div></div></div></div></div></div></div>
          </div>
        </div>
        <div id="wrapper2">
          <div id="outputbox">
          </div>
        </div>
      </div>
      <span id="output">Output:</span>
      <div id="ciphertext">
      </div>
    </div>
  </body>
</html>
